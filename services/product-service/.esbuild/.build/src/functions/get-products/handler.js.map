{
  "version": 3,
  "sources": ["../../../../../../../node_modules/uuid/dist/rng.js", "../../../../../../../node_modules/uuid/dist/regex.js", "../../../../../../../node_modules/uuid/dist/validate.js", "../../../../../../../node_modules/uuid/dist/stringify.js", "../../../../../../../node_modules/uuid/dist/v1.js", "../../../../../../../node_modules/uuid/dist/parse.js", "../../../../../../../node_modules/uuid/dist/v35.js", "../../../../../../../node_modules/uuid/dist/md5.js", "../../../../../../../node_modules/uuid/dist/v3.js", "../../../../../../../node_modules/uuid/dist/native.js", "../../../../../../../node_modules/uuid/dist/v4.js", "../../../../../../../node_modules/uuid/dist/sha1.js", "../../../../../../../node_modules/uuid/dist/v5.js", "../../../../../../../node_modules/uuid/dist/nil.js", "../../../../../../../node_modules/uuid/dist/version.js", "../../../../../../../node_modules/uuid/dist/index.js", "../../../../../../../node_modules/@middy/core/index.js", "../../../../../../../node_modules/@middy/http-json-body-parser/node_modules/@middy/util/index.js", "../../../../../../../node_modules/@middy/http-json-body-parser/index.js", "../../../../../src/functions/get-products/handler.ts", "../../../../../src/libs/logger.ts", "../../../../../../../environments/dynamo-db-table-names.ts", "../../../../../src/libs/db.ts", "../../../../../../../node_modules/uuid/wrapper.mjs", "../../../../../src/services/product.service.ts", "../../../../../../../libs/http/src/lib/api-gateway.ts", "../../../../../../../libs/http/src/lib/lambda.ts", "../../../../../../../node_modules/@middy/util/index.js", "../../../../../../../node_modules/@middy/http-cors/index.js", "../../../../../../../node_modules/@middy/http-error-handler/index.js"],
  "sourcesContent": ["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = rng;\n\nvar _crypto = _interopRequireDefault(require(\"crypto\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst rnds8Pool = new Uint8Array(256); // # of random values to pre-allocate\n\nlet poolPtr = rnds8Pool.length;\n\nfunction rng() {\n  if (poolPtr > rnds8Pool.length - 16) {\n    _crypto.default.randomFillSync(rnds8Pool);\n\n    poolPtr = 0;\n  }\n\n  return rnds8Pool.slice(poolPtr, poolPtr += 16);\n}", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _default = /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;\nexports.default = _default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _regex = _interopRequireDefault(require(\"./regex.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction validate(uuid) {\n  return typeof uuid === 'string' && _regex.default.test(uuid);\n}\n\nvar _default = validate;\nexports.default = _default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nexports.unsafeStringify = unsafeStringify;\n\nvar _validate = _interopRequireDefault(require(\"./validate.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nconst byteToHex = [];\n\nfor (let i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).slice(1));\n}\n\nfunction unsafeStringify(arr, offset = 0) {\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  return (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase();\n}\n\nfunction stringify(arr, offset = 0) {\n  const uuid = unsafeStringify(arr, offset); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!(0, _validate.default)(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nvar _default = stringify;\nexports.default = _default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _rng = _interopRequireDefault(require(\"./rng.js\"));\n\nvar _stringify = require(\"./stringify.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// **`v1()` - Generate time-based UUID**\n//\n// Inspired by https://github.com/LiosK/UUID.js\n// and http://docs.python.org/library/uuid.html\nlet _nodeId;\n\nlet _clockseq; // Previous uuid creation time\n\n\nlet _lastMSecs = 0;\nlet _lastNSecs = 0; // See https://github.com/uuidjs/uuid for API details\n\nfunction v1(options, buf, offset) {\n  let i = buf && offset || 0;\n  const b = buf || new Array(16);\n  options = options || {};\n  let node = options.node || _nodeId;\n  let clockseq = options.clockseq !== undefined ? options.clockseq : _clockseq; // node and clockseq need to be initialized to random values if they're not\n  // specified.  We do this lazily to minimize issues related to insufficient\n  // system entropy.  See #189\n\n  if (node == null || clockseq == null) {\n    const seedBytes = options.random || (options.rng || _rng.default)();\n\n    if (node == null) {\n      // Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)\n      node = _nodeId = [seedBytes[0] | 0x01, seedBytes[1], seedBytes[2], seedBytes[3], seedBytes[4], seedBytes[5]];\n    }\n\n    if (clockseq == null) {\n      // Per 4.2.2, randomize (14 bit) clockseq\n      clockseq = _clockseq = (seedBytes[6] << 8 | seedBytes[7]) & 0x3fff;\n    }\n  } // UUID timestamps are 100 nano-second units since the Gregorian epoch,\n  // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so\n  // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'\n  // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.\n\n\n  let msecs = options.msecs !== undefined ? options.msecs : Date.now(); // Per 4.2.1.2, use count of uuid's generated during the current clock\n  // cycle to simulate higher resolution clock\n\n  let nsecs = options.nsecs !== undefined ? options.nsecs : _lastNSecs + 1; // Time since last uuid creation (in msecs)\n\n  const dt = msecs - _lastMSecs + (nsecs - _lastNSecs) / 10000; // Per 4.2.1.2, Bump clockseq on clock regression\n\n  if (dt < 0 && options.clockseq === undefined) {\n    clockseq = clockseq + 1 & 0x3fff;\n  } // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new\n  // time interval\n\n\n  if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === undefined) {\n    nsecs = 0;\n  } // Per 4.2.1.2 Throw error if too many uuids are requested\n\n\n  if (nsecs >= 10000) {\n    throw new Error(\"uuid.v1(): Can't create more than 10M uuids/sec\");\n  }\n\n  _lastMSecs = msecs;\n  _lastNSecs = nsecs;\n  _clockseq = clockseq; // Per 4.1.4 - Convert from unix epoch to Gregorian epoch\n\n  msecs += 12219292800000; // `time_low`\n\n  const tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\n  b[i++] = tl >>> 24 & 0xff;\n  b[i++] = tl >>> 16 & 0xff;\n  b[i++] = tl >>> 8 & 0xff;\n  b[i++] = tl & 0xff; // `time_mid`\n\n  const tmh = msecs / 0x100000000 * 10000 & 0xfffffff;\n  b[i++] = tmh >>> 8 & 0xff;\n  b[i++] = tmh & 0xff; // `time_high_and_version`\n\n  b[i++] = tmh >>> 24 & 0xf | 0x10; // include version\n\n  b[i++] = tmh >>> 16 & 0xff; // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)\n\n  b[i++] = clockseq >>> 8 | 0x80; // `clock_seq_low`\n\n  b[i++] = clockseq & 0xff; // `node`\n\n  for (let n = 0; n < 6; ++n) {\n    b[i + n] = node[n];\n  }\n\n  return buf || (0, _stringify.unsafeStringify)(b);\n}\n\nvar _default = v1;\nexports.default = _default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _validate = _interopRequireDefault(require(\"./validate.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction parse(uuid) {\n  if (!(0, _validate.default)(uuid)) {\n    throw TypeError('Invalid UUID');\n  }\n\n  let v;\n  const arr = new Uint8Array(16); // Parse ########-....-....-....-............\n\n  arr[0] = (v = parseInt(uuid.slice(0, 8), 16)) >>> 24;\n  arr[1] = v >>> 16 & 0xff;\n  arr[2] = v >>> 8 & 0xff;\n  arr[3] = v & 0xff; // Parse ........-####-....-....-............\n\n  arr[4] = (v = parseInt(uuid.slice(9, 13), 16)) >>> 8;\n  arr[5] = v & 0xff; // Parse ........-....-####-....-............\n\n  arr[6] = (v = parseInt(uuid.slice(14, 18), 16)) >>> 8;\n  arr[7] = v & 0xff; // Parse ........-....-....-####-............\n\n  arr[8] = (v = parseInt(uuid.slice(19, 23), 16)) >>> 8;\n  arr[9] = v & 0xff; // Parse ........-....-....-....-############\n  // (Use \"/\" to avoid 32-bit truncation when bit-shifting high-order bytes)\n\n  arr[10] = (v = parseInt(uuid.slice(24, 36), 16)) / 0x10000000000 & 0xff;\n  arr[11] = v / 0x100000000 & 0xff;\n  arr[12] = v >>> 24 & 0xff;\n  arr[13] = v >>> 16 & 0xff;\n  arr[14] = v >>> 8 & 0xff;\n  arr[15] = v & 0xff;\n  return arr;\n}\n\nvar _default = parse;\nexports.default = _default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.URL = exports.DNS = void 0;\nexports.default = v35;\n\nvar _stringify = require(\"./stringify.js\");\n\nvar _parse = _interopRequireDefault(require(\"./parse.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction stringToBytes(str) {\n  str = unescape(encodeURIComponent(str)); // UTF8 escape\n\n  const bytes = [];\n\n  for (let i = 0; i < str.length; ++i) {\n    bytes.push(str.charCodeAt(i));\n  }\n\n  return bytes;\n}\n\nconst DNS = '6ba7b810-9dad-11d1-80b4-00c04fd430c8';\nexports.DNS = DNS;\nconst URL = '6ba7b811-9dad-11d1-80b4-00c04fd430c8';\nexports.URL = URL;\n\nfunction v35(name, version, hashfunc) {\n  function generateUUID(value, namespace, buf, offset) {\n    var _namespace;\n\n    if (typeof value === 'string') {\n      value = stringToBytes(value);\n    }\n\n    if (typeof namespace === 'string') {\n      namespace = (0, _parse.default)(namespace);\n    }\n\n    if (((_namespace = namespace) === null || _namespace === void 0 ? void 0 : _namespace.length) !== 16) {\n      throw TypeError('Namespace must be array-like (16 iterable integer values, 0-255)');\n    } // Compute hash of namespace and value, Per 4.3\n    // Future: Use spread syntax when supported on all platforms, e.g. `bytes =\n    // hashfunc([...namespace, ... value])`\n\n\n    let bytes = new Uint8Array(16 + value.length);\n    bytes.set(namespace);\n    bytes.set(value, namespace.length);\n    bytes = hashfunc(bytes);\n    bytes[6] = bytes[6] & 0x0f | version;\n    bytes[8] = bytes[8] & 0x3f | 0x80;\n\n    if (buf) {\n      offset = offset || 0;\n\n      for (let i = 0; i < 16; ++i) {\n        buf[offset + i] = bytes[i];\n      }\n\n      return buf;\n    }\n\n    return (0, _stringify.unsafeStringify)(bytes);\n  } // Function#name is not settable on some platforms (#270)\n\n\n  try {\n    generateUUID.name = name; // eslint-disable-next-line no-empty\n  } catch (err) {} // For CommonJS default export support\n\n\n  generateUUID.DNS = DNS;\n  generateUUID.URL = URL;\n  return generateUUID;\n}", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _crypto = _interopRequireDefault(require(\"crypto\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction md5(bytes) {\n  if (Array.isArray(bytes)) {\n    bytes = Buffer.from(bytes);\n  } else if (typeof bytes === 'string') {\n    bytes = Buffer.from(bytes, 'utf8');\n  }\n\n  return _crypto.default.createHash('md5').update(bytes).digest();\n}\n\nvar _default = md5;\nexports.default = _default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _v = _interopRequireDefault(require(\"./v35.js\"));\n\nvar _md = _interopRequireDefault(require(\"./md5.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst v3 = (0, _v.default)('v3', 0x30, _md.default);\nvar _default = v3;\nexports.default = _default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _crypto = _interopRequireDefault(require(\"crypto\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _default = {\n  randomUUID: _crypto.default.randomUUID\n};\nexports.default = _default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _native = _interopRequireDefault(require(\"./native.js\"));\n\nvar _rng = _interopRequireDefault(require(\"./rng.js\"));\n\nvar _stringify = require(\"./stringify.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction v4(options, buf, offset) {\n  if (_native.default.randomUUID && !buf && !options) {\n    return _native.default.randomUUID();\n  }\n\n  options = options || {};\n\n  const rnds = options.random || (options.rng || _rng.default)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (let i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return (0, _stringify.unsafeStringify)(rnds);\n}\n\nvar _default = v4;\nexports.default = _default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _crypto = _interopRequireDefault(require(\"crypto\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction sha1(bytes) {\n  if (Array.isArray(bytes)) {\n    bytes = Buffer.from(bytes);\n  } else if (typeof bytes === 'string') {\n    bytes = Buffer.from(bytes, 'utf8');\n  }\n\n  return _crypto.default.createHash('sha1').update(bytes).digest();\n}\n\nvar _default = sha1;\nexports.default = _default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _v = _interopRequireDefault(require(\"./v35.js\"));\n\nvar _sha = _interopRequireDefault(require(\"./sha1.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst v5 = (0, _v.default)('v5', 0x50, _sha.default);\nvar _default = v5;\nexports.default = _default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _default = '00000000-0000-0000-0000-000000000000';\nexports.default = _default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _validate = _interopRequireDefault(require(\"./validate.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction version(uuid) {\n  if (!(0, _validate.default)(uuid)) {\n    throw TypeError('Invalid UUID');\n  }\n\n  return parseInt(uuid.slice(14, 15), 16);\n}\n\nvar _default = version;\nexports.default = _default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"NIL\", {\n  enumerable: true,\n  get: function () {\n    return _nil.default;\n  }\n});\nObject.defineProperty(exports, \"parse\", {\n  enumerable: true,\n  get: function () {\n    return _parse.default;\n  }\n});\nObject.defineProperty(exports, \"stringify\", {\n  enumerable: true,\n  get: function () {\n    return _stringify.default;\n  }\n});\nObject.defineProperty(exports, \"v1\", {\n  enumerable: true,\n  get: function () {\n    return _v.default;\n  }\n});\nObject.defineProperty(exports, \"v3\", {\n  enumerable: true,\n  get: function () {\n    return _v2.default;\n  }\n});\nObject.defineProperty(exports, \"v4\", {\n  enumerable: true,\n  get: function () {\n    return _v3.default;\n  }\n});\nObject.defineProperty(exports, \"v5\", {\n  enumerable: true,\n  get: function () {\n    return _v4.default;\n  }\n});\nObject.defineProperty(exports, \"validate\", {\n  enumerable: true,\n  get: function () {\n    return _validate.default;\n  }\n});\nObject.defineProperty(exports, \"version\", {\n  enumerable: true,\n  get: function () {\n    return _version.default;\n  }\n});\n\nvar _v = _interopRequireDefault(require(\"./v1.js\"));\n\nvar _v2 = _interopRequireDefault(require(\"./v3.js\"));\n\nvar _v3 = _interopRequireDefault(require(\"./v4.js\"));\n\nvar _v4 = _interopRequireDefault(require(\"./v5.js\"));\n\nvar _nil = _interopRequireDefault(require(\"./nil.js\"));\n\nvar _version = _interopRequireDefault(require(\"./version.js\"));\n\nvar _validate = _interopRequireDefault(require(\"./validate.js\"));\n\nvar _stringify = _interopRequireDefault(require(\"./stringify.js\"));\n\nvar _parse = _interopRequireDefault(require(\"./parse.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }", "\"use strict\";\n\nconst middy = (baseHandler = () => {}, plugin) => {\n  var _plugin$beforePrefetc;\n\n  plugin === null || plugin === void 0 ? void 0 : (_plugin$beforePrefetc = plugin.beforePrefetch) === null || _plugin$beforePrefetc === void 0 ? void 0 : _plugin$beforePrefetc.call(plugin);\n  const beforeMiddlewares = [];\n  const afterMiddlewares = [];\n  const onErrorMiddlewares = [];\n\n  const instance = (event = {}, context = {}) => {\n    var _plugin$requestStart;\n\n    plugin === null || plugin === void 0 ? void 0 : (_plugin$requestStart = plugin.requestStart) === null || _plugin$requestStart === void 0 ? void 0 : _plugin$requestStart.call(plugin);\n    const request = {\n      event,\n      context,\n      response: undefined,\n      error: undefined,\n      internal: {}\n    };\n    return runRequest(request, [...beforeMiddlewares], baseHandler, [...afterMiddlewares], [...onErrorMiddlewares], plugin);\n  };\n\n  instance.use = middlewares => {\n    if (Array.isArray(middlewares)) {\n      for (const middleware of middlewares) {\n        instance.applyMiddleware(middleware);\n      }\n\n      return instance;\n    }\n\n    return instance.applyMiddleware(middlewares);\n  };\n\n  instance.applyMiddleware = middleware => {\n    const {\n      before,\n      after,\n      onError\n    } = middleware;\n\n    if (!before && !after && !onError) {\n      throw new Error('Middleware must be an object containing at least one key among \"before\", \"after\", \"onError\"');\n    }\n\n    if (before) instance.before(before);\n    if (after) instance.after(after);\n    if (onError) instance.onError(onError);\n    return instance;\n  }; // Inline Middlewares\n\n\n  instance.before = beforeMiddleware => {\n    beforeMiddlewares.push(beforeMiddleware);\n    return instance;\n  };\n\n  instance.after = afterMiddleware => {\n    afterMiddlewares.unshift(afterMiddleware);\n    return instance;\n  };\n\n  instance.onError = onErrorMiddleware => {\n    onErrorMiddlewares.push(onErrorMiddleware);\n    return instance;\n  };\n\n  instance.__middlewares = {\n    before: beforeMiddlewares,\n    after: afterMiddlewares,\n    onError: onErrorMiddlewares\n  };\n  return instance;\n};\n\nconst runRequest = async (request, beforeMiddlewares, baseHandler, afterMiddlewares, onErrorMiddlewares, plugin) => {\n  try {\n    await runMiddlewares(request, beforeMiddlewares, plugin); // Check if before stack hasn't exit early\n\n    if (request.response === undefined) {\n      var _plugin$beforeHandler, _plugin$afterHandler;\n\n      plugin === null || plugin === void 0 ? void 0 : (_plugin$beforeHandler = plugin.beforeHandler) === null || _plugin$beforeHandler === void 0 ? void 0 : _plugin$beforeHandler.call(plugin);\n      request.response = await baseHandler(request.event, request.context);\n      plugin === null || plugin === void 0 ? void 0 : (_plugin$afterHandler = plugin.afterHandler) === null || _plugin$afterHandler === void 0 ? void 0 : _plugin$afterHandler.call(plugin);\n      await runMiddlewares(request, afterMiddlewares, plugin);\n    }\n  } catch (e) {\n    // Reset response changes made by after stack before error thrown\n    request.response = undefined;\n    request.error = e;\n\n    try {\n      await runMiddlewares(request, onErrorMiddlewares, plugin);\n    } catch (e) {\n      // Save error that wasn't handled\n      e.originalError = request.error;\n      request.error = e;\n      throw request.error;\n    } // Catch if onError stack hasn't handled the error\n\n\n    if (request.response === undefined) throw request.error;\n  } finally {\n    var _plugin$requestEnd;\n\n    await (plugin === null || plugin === void 0 ? void 0 : (_plugin$requestEnd = plugin.requestEnd) === null || _plugin$requestEnd === void 0 ? void 0 : _plugin$requestEnd.call(plugin, request));\n  }\n\n  return request.response;\n};\n\nconst runMiddlewares = async (request, middlewares, plugin) => {\n  for (const nextMiddleware of middlewares) {\n    var _plugin$beforeMiddlew, _plugin$afterMiddlewa;\n\n    plugin === null || plugin === void 0 ? void 0 : (_plugin$beforeMiddlew = plugin.beforeMiddleware) === null || _plugin$beforeMiddlew === void 0 ? void 0 : _plugin$beforeMiddlew.call(plugin, nextMiddleware === null || nextMiddleware === void 0 ? void 0 : nextMiddleware.name);\n    const res = await (nextMiddleware === null || nextMiddleware === void 0 ? void 0 : nextMiddleware(request));\n    plugin === null || plugin === void 0 ? void 0 : (_plugin$afterMiddlewa = plugin.afterMiddleware) === null || _plugin$afterMiddlewa === void 0 ? void 0 : _plugin$afterMiddlewa.call(plugin, nextMiddleware === null || nextMiddleware === void 0 ? void 0 : nextMiddleware.name); // short circuit chaining and respond early\n\n    if (res !== undefined) {\n      request.response = res;\n      return;\n    }\n  }\n};\n\nmodule.exports = middy;\n", "\"use strict\";\n\nconst {\n  Agent\n} = require('https'); // const { NodeHttpHandler } = require('@aws-sdk/node-http-handler') // aws-sdk v3\n\n\nconst awsClientDefaultOptions = {\n  // AWS SDK v3\n  // Docs: https://docs.aws.amazon.com/sdk-for-javascript/v3/developer-guide/enforcing-tls.html\n\n  /* requestHandler: new NodeHttpHandler({\n    httpsAgent: new Agent(\n      {\n        secureProtocol: 'TLSv1_2_method'\n      }\n    )\n  }) */\n  // Docs: https://docs.aws.amazon.com/sdk-for-javascript/v2/developer-guide/enforcing-tls.html\n  httpOptions: {\n    agent: new Agent({\n      secureProtocol: 'TLSv1_2_method'\n    })\n  }\n};\n\nconst createPrefetchClient = options => {\n  const awsClientOptions = { ...awsClientDefaultOptions,\n    ...options.awsClientOptions\n  };\n  const client = new options.AwsClient(awsClientOptions); // AWS XRay\n\n  if (options.awsClientCapture) {\n    return options.awsClientCapture(client);\n  }\n\n  return client;\n};\n\nconst createClient = async (options, request) => {\n  let awsClientCredentials = {}; // Role Credentials\n\n  if (options.awsClientAssumeRole) {\n    if (!request) throw new Error('Request required when assuming role');\n    awsClientCredentials = await getInternal({\n      credentials: options.awsClientAssumeRole\n    }, request);\n  }\n\n  awsClientCredentials = { ...awsClientCredentials,\n    ...options.awsClientOptions\n  };\n  return createPrefetchClient({ ...options,\n    awsClientOptions: awsClientCredentials\n  });\n};\n\nconst canPrefetch = options => {\n  return !(options !== null && options !== void 0 && options.awsClientAssumeRole) && !(options !== null && options !== void 0 && options.disablePrefetch);\n}; // Internal Context\n\n\nconst getInternal = async (variables, request) => {\n  if (!variables || !request) return {};\n  let keys = [];\n  let values = [];\n\n  if (variables === true) {\n    keys = values = Object.keys(request.internal);\n  } else if (typeof variables === 'string') {\n    keys = values = [variables];\n  } else if (Array.isArray(variables)) {\n    keys = values = variables;\n  } else if (typeof variables === 'object') {\n    keys = Object.keys(variables);\n    values = Object.values(variables);\n  }\n\n  const promises = [];\n\n  for (const internalKey of values) {\n    var _valuePromise;\n\n    // 'internal.key.sub_value' -> { [key]: internal.key.sub_value }\n    const pathOptionKey = internalKey.split('.');\n    const rootOptionKey = pathOptionKey.shift();\n    let valuePromise = request.internal[rootOptionKey];\n\n    if (typeof ((_valuePromise = valuePromise) === null || _valuePromise === void 0 ? void 0 : _valuePromise.then) !== 'function') {\n      valuePromise = Promise.resolve(valuePromise);\n    }\n\n    promises.push(valuePromise.then(value => pathOptionKey.reduce((p, c) => p === null || p === void 0 ? void 0 : p[c], value)));\n  } // ensure promise has resolved by the time it's needed\n  // If one of the promises throws it will bubble up to @middy/core\n\n\n  values = await Promise.allSettled(promises);\n  const errors = values.filter(res => res.status === 'rejected').map(res => res.reason.message);\n  if (errors.length) throw new Error(JSON.stringify(errors));\n  return keys.reduce((obj, key, index) => ({ ...obj,\n    [sanitizeKey(key)]: values[index].value\n  }), {});\n};\n\nconst sanitizeKeyPrefixLeadingNumber = /^([0-9])/;\nconst sanitizeKeyRemoveDisallowedChar = /[^a-zA-Z0-9]+/g;\n\nconst sanitizeKey = key => {\n  return key.replace(sanitizeKeyPrefixLeadingNumber, '_$1').replace(sanitizeKeyRemoveDisallowedChar, '_');\n}; // fetch Cache\n\n\nconst cache = {}; // key: { value:{fetchKey:Promise}, expiry }\n\nconst processCache = (options, fetch = () => undefined, request) => {\n  const {\n    cacheExpiry,\n    cacheKey\n  } = options;\n\n  if (cacheExpiry) {\n    const cached = getCache(cacheKey);\n    const unexpired = cached && (cacheExpiry < 0 || cached.expiry > Date.now());\n\n    if (unexpired && cached.modified) {\n      const value = fetch(request, cached.value);\n      cache[cacheKey] = {\n        value: { ...cached.value,\n          ...value\n        },\n        expiry: cached.expiry\n      };\n      return cache[cacheKey];\n    }\n\n    if (unexpired) {\n      return { ...cached,\n        cache: true\n      };\n    }\n  }\n\n  const value = fetch(request);\n  const expiry = Date.now() + cacheExpiry;\n\n  if (cacheExpiry) {\n    cache[cacheKey] = {\n      value,\n      expiry\n    };\n  }\n\n  return {\n    value,\n    expiry\n  };\n};\n\nconst getCache = key => {\n  return cache[key];\n}; // Used to remove parts of a cache\n\n\nconst modifyCache = (cacheKey, value) => {\n  if (!cache[cacheKey]) return;\n  cache[cacheKey] = { ...cache[cacheKey],\n    value,\n    modified: true\n  };\n};\n\nconst clearCache = (keys = null) => {\n  var _keys;\n\n  keys = (_keys = keys) !== null && _keys !== void 0 ? _keys : Object.keys(cache);\n  if (!Array.isArray(keys)) keys = [keys];\n\n  for (const cacheKey of keys) {\n    cache[cacheKey] = undefined;\n  }\n};\n\nconst jsonSafeParse = (string, reviver) => {\n  if (typeof string !== 'string') return string;\n  const firstChar = string[0];\n  if (firstChar !== '{' && firstChar !== '[' && firstChar !== '\"') return string;\n\n  try {\n    return JSON.parse(string, reviver);\n  } catch (e) {}\n\n  return string;\n};\n\nconst normalizeHttpResponse = response => {\n  var _response$headers, _response;\n\n  // May require updating to catch other types\n  if (response === undefined) {\n    response = {};\n  } else if (Array.isArray(response) || typeof response !== 'object' || response === null) {\n    response = {\n      body: response\n    };\n  }\n\n  response.headers = (_response$headers = (_response = response) === null || _response === void 0 ? void 0 : _response.headers) !== null && _response$headers !== void 0 ? _response$headers : {};\n  return response;\n}; // smaller version of `http-errors`\n\n\nconst statuses = require('./codes.json');\n\nconst {\n  inherits\n} = require('util');\n\nconst createErrorRegexp = /[^a-zA-Z]/g;\n\nconst createError = (code, message, properties = {}) => {\n  const name = statuses[code].replace(createErrorRegexp, '');\n  const className = name.substr(-5) !== 'Error' ? name + 'Error' : name;\n\n  function HttpError(message) {\n    // create the error object\n    const msg = message !== null && message !== void 0 ? message : statuses[code];\n    const err = new Error(msg); // capture a stack trace to the construction point\n\n    Error.captureStackTrace(err, HttpError); // adjust the [[Prototype]]\n\n    Object.setPrototypeOf(err, HttpError.prototype); // redefine the error message\n\n    Object.defineProperty(err, 'message', {\n      enumerable: true,\n      configurable: true,\n      value: msg,\n      writable: true\n    }); // redefine the error name\n\n    Object.defineProperty(err, 'name', {\n      enumerable: false,\n      configurable: true,\n      value: className,\n      writable: true\n    });\n    return err;\n  }\n\n  inherits(HttpError, Error);\n  const desc = Object.getOwnPropertyDescriptor(HttpError, 'name');\n  desc.value = className;\n  Object.defineProperty(HttpError, 'name', desc);\n  Object.assign(HttpError.prototype, {\n    status: code,\n    statusCode: code,\n    expose: code < 500\n  }, properties);\n  return new HttpError(message);\n};\n\nmodule.exports = {\n  createPrefetchClient,\n  createClient,\n  canPrefetch,\n  getInternal,\n  sanitizeKey,\n  processCache,\n  getCache,\n  modifyCache,\n  clearCache,\n  jsonSafeParse,\n  normalizeHttpResponse,\n  createError\n};\n", "\"use strict\";\n\nconst mimePattern = /^application\\/(.+\\+)?json(;.*)?$/;\nconst defaults = {\n  reviver: undefined\n};\n\nconst httpJsonBodyParserMiddleware = (opts = {}) => {\n  const options = { ...defaults,\n    ...opts\n  };\n\n  const httpJsonBodyParserMiddlewareBefore = async request => {\n    var _headers$ContentType;\n\n    const {\n      headers,\n      body\n    } = request.event;\n    const contentTypeHeader = (_headers$ContentType = headers === null || headers === void 0 ? void 0 : headers['Content-Type']) !== null && _headers$ContentType !== void 0 ? _headers$ContentType : headers === null || headers === void 0 ? void 0 : headers['content-type'];\n\n    if (mimePattern.test(contentTypeHeader)) {\n      try {\n        const data = request.event.isBase64Encoded ? Buffer.from(body, 'base64').toString() : body;\n        request.event.rawBody = body;\n        request.event.body = JSON.parse(data, options.reviver);\n      } catch (err) {\n        const {\n          createError\n        } = require('@middy/util'); // UnprocessableEntity\n\n\n        throw createError(422, 'Content type defined as JSON but an invalid JSON was provided');\n      }\n    }\n  };\n\n  return {\n    before: httpJsonBodyParserMiddlewareBefore\n  };\n};\n\nmodule.exports = httpJsonBodyParserMiddleware;\n", "import {errorMessage, loggers} from \"../../libs/logger\";\r\nimport ProductService from \"../../services/product.service\";\r\nimport {formatErrorResponse, formatJSONResponse} from \"../../../../../libs/http/src/lib/api-gateway\";\r\nimport {middyfy} from \"../../../../../libs/http/src/lib/lambda\";\r\n\r\n\r\nconst {LOG, ERROR} = loggers(\"getProducts\");\r\n\r\nexport const getProducts = async () => {\r\n  try {\r\n    LOG(`Getting all products`);\r\n    const products = await ProductService.getProducts();\r\n\r\n    return formatJSONResponse(products);\r\n  } catch (err) {\r\n    const message = errorMessage(err);\r\n    ERROR(message);\r\n    return formatErrorResponse(500, message);\r\n  }\r\n};\r\n\r\nexport const main = middyfy(getProducts);\r\n", "export const logger = (method: \"log\" | \"warn\" | \"error\", handler: string) => (message: string) => {\r\n  console[method](`[${method.toUpperCase()}] ${handler}: ${message}`);\r\n}\r\n\r\nexport const loggers = (handler: string) => {\r\n  return {\r\n    LOG: logger(\"log\", handler),\r\n    WARN: logger(\"warn\", handler),\r\n    ERROR: logger(\"error\", handler),\r\n  }\r\n}\r\n\r\nexport function errorMessage(e: any) {\r\n  const message = e.message || e.errorMessage || JSON.stringify(e, null, 2)\r\n  return String(message)\r\n}", "export const DynamoDbTableNames = {\r\n  Products: process.env.PRODUCT_TABLE_NAME ?? \"products\",\r\n  Stocks: process.env.STOCK_TABLE_NAME ?? \"stocks\",\r\n}", "import * as AWS from \"aws-sdk\";\r\n\r\nconst dynamo = new AWS.DynamoDB.DocumentClient();\r\n\r\nclass DB {\r\n  static async scan(TableName: string): Promise<any> {\r\n    const scanResults = await dynamo\r\n      .scan({TableName})\r\n      .promise();\r\n    return scanResults.Items;\r\n  }\r\n\r\n  static async query(TableName: string, options = {}): Promise<any> {\r\n    return await dynamo\r\n      .query({\r\n        TableName,\r\n        ...options,\r\n      })\r\n      .promise();\r\n  }\r\n\r\n  static async put(TableName: string, Item = {}): Promise<any> {\r\n    return await dynamo\r\n      .put({\r\n        TableName,\r\n        Item,\r\n      })\r\n      .promise();\r\n  }\r\n}\r\n\r\nexport default DB;", "import uuid from './dist/index.js';\nexport const v1 = uuid.v1;\nexport const v3 = uuid.v3;\nexport const v4 = uuid.v4;\nexport const v5 = uuid.v5;\nexport const NIL = uuid.NIL;\nexport const version = uuid.version;\nexport const validate = uuid.validate;\nexport const stringify = uuid.stringify;\nexport const parse = uuid.parse;\n", "import {Product} from \"../models/product\";\r\nimport {DynamoDbTableNames} from \"../../../../environments/dynamo-db-table-names\";\r\nimport DB from \"../libs/db\";\r\nimport {v4 as uuid} from \"uuid\";\r\n\r\nexport default class ProductService {\r\n  static async getProductById(id: string): Promise<Product> {\r\n    const product = (await DB.query(DynamoDbTableNames.Products, {\r\n      KeyConditionExpression: `id = :id`,\r\n      ExpressionAttributeValues: {[`:id`]: id},\r\n    }))?.Items?.[0];\r\n    const productStock = (await DB.query(DynamoDbTableNames.Stocks, {\r\n      KeyConditionExpression: `product_id = :id`,\r\n      ExpressionAttributeValues: {[`:id`]: id},\r\n    }))?.Items?.[0];\r\n\r\n    return {...product, count: productStock.count};\r\n  }\r\n\r\n  static async getProducts(): Promise<Product[]> {\r\n    const products = await DB.scan(DynamoDbTableNames.Products);\r\n    const stocks = await DB.scan(DynamoDbTableNames.Stocks);\r\n\r\n    return products.map((product, index) => ({...product, count: stocks[index]}));\r\n  }\r\n\r\n  static async createProduct(payload: Partial<Product>): Promise<Product> {\r\n    const id = uuid();\r\n    const product = {id, ...payload} as Product;\r\n    const productStock = {product_id: id, count: product.count}\r\n\r\n    await DB.put(DynamoDbTableNames.Products, product);\r\n    await DB.put(DynamoDbTableNames.Stocks, productStock);\r\n\r\n    return product;\r\n  }\r\n}\r\n", "export const formatJSONResponse = (response: Record<string, unknown> | any) => {\r\n  return {\r\n    statusCode: 200,\r\n    body: JSON.stringify(response),\r\n    headers: {\r\n      \"Content-type\": \"application/json\",\r\n      \"Access-Control-Allow-Origin\": \"*\",\r\n      \"Access-Control-Allow-Credentials\": true,\r\n    },\r\n  }\r\n}\r\n\r\nexport const formatErrorResponse = (statusCode: number, message: string) => {\r\n  return {\r\n    statusCode,\r\n    message,\r\n  }\r\n}\r\n", "import middy from \"@middy/core\"\r\nimport bodyParser from \"@middy/http-json-body-parser\";\r\nimport cors from \"@middy/http-cors\";\r\nimport httpErrorHandler from \"@middy/http-error-handler\";\r\n\r\nexport const middyfy = (handler) => {\r\n  return middy(handler)\r\n    .use(bodyParser())\r\n    .use(cors({origin: \"*\", methods: \"*\", requestMethods: \"*\"}))\r\n    .use(httpErrorHandler());\r\n}\r\n", "var _response;\nimport { Agent } from 'https';\nexport const awsClientDefaultOptions = {\n    httpOptions: {\n        agent: new Agent({\n            keepAlive: true,\n            secureProtocol: 'TLSv1_2_method'\n        })\n    }\n};\nexport const createPrefetchClient = (options)=>{\n    const awsClientOptions = {\n        ...awsClientDefaultOptions,\n        ...options.awsClientOptions\n    };\n    const client = new options.AwsClient(awsClientOptions);\n    if (options.awsClientCapture && options.disablePrefetch) {\n        return options.awsClientCapture(client);\n    } else if (options.awsClientCapture) {\n        console.warn('Unable to apply X-Ray outside of handler invocation scope.');\n    }\n    return client;\n};\nexport const createClient = async (options, request)=>{\n    let awsClientCredentials = {};\n    if (options.awsClientAssumeRole) {\n        if (!request) {\n            throw new Error('Request required when assuming role');\n        }\n        awsClientCredentials = await getInternal({\n            credentials: options.awsClientAssumeRole\n        }, request);\n    }\n    awsClientCredentials = {\n        ...awsClientCredentials,\n        ...options.awsClientOptions\n    };\n    return createPrefetchClient({\n        ...options,\n        awsClientOptions: awsClientCredentials\n    });\n};\nexport const canPrefetch = (options = {})=>{\n    return !options.awsClientAssumeRole && !options.disablePrefetch;\n};\nexport const getInternal = async (variables, request)=>{\n    if (!variables || !request) return {};\n    let keys = [];\n    let values = [];\n    if (variables === true) {\n        keys = values = Object.keys(request.internal);\n    } else if (typeof variables === 'string') {\n        keys = values = [\n            variables\n        ];\n    } else if (Array.isArray(variables)) {\n        keys = values = variables;\n    } else if (typeof variables === 'object') {\n        keys = Object.keys(variables);\n        values = Object.values(variables);\n    }\n    const promises = [];\n    for (const internalKey of values){\n        const pathOptionKey = internalKey.split('.');\n        const rootOptionKey = pathOptionKey.shift();\n        let valuePromise = request.internal[rootOptionKey];\n        if (!isPromise(valuePromise)) {\n            valuePromise = Promise.resolve(valuePromise);\n        }\n        promises.push(valuePromise.then((value)=>pathOptionKey.reduce((p, c)=>p?.[c], value)));\n    }\n    values = await Promise.allSettled(promises);\n    const errors = values.filter((res)=>res.status === 'rejected').map((res)=>res.reason);\n    if (errors.length) {\n        const error = new Error('Failed to resolve internal values');\n        error.cause = errors;\n        throw error;\n    }\n    return keys.reduce((obj, key, index)=>({\n            ...obj,\n            [sanitizeKey(key)]: values[index].value\n        }), {});\n};\nconst isPromise = (promise)=>typeof promise?.then === 'function';\nconst sanitizeKeyPrefixLeadingNumber = /^([0-9])/;\nconst sanitizeKeyRemoveDisallowedChar = /[^a-zA-Z0-9]+/g;\nexport const sanitizeKey = (key)=>{\n    return key.replace(sanitizeKeyPrefixLeadingNumber, '_$1').replace(sanitizeKeyRemoveDisallowedChar, '_');\n};\nconst cache = {};\nexport const processCache = (options, fetch = ()=>undefined, request)=>{\n    const { cacheExpiry , cacheKey  } = options;\n    if (cacheExpiry) {\n        const cached = getCache(cacheKey);\n        const unexpired = cached.expiry && (cacheExpiry < 0 || cached.expiry > Date.now());\n        if (unexpired && cached.modified) {\n            const value = fetch(request, cached.value);\n            cache[cacheKey] = {\n                value: {\n                    ...cached.value,\n                    ...value\n                },\n                expiry: cached.expiry\n            };\n            return cache[cacheKey];\n        }\n        if (unexpired) {\n            return {\n                ...cached,\n                cache: true\n            };\n        }\n    }\n    const value1 = fetch(request);\n    const expiry = Date.now() + cacheExpiry;\n    if (cacheExpiry) {\n        const refresh = cacheExpiry > 0 ? setInterval(()=>{\n            const value = fetch(request);\n            const expiry = Date.now() + cacheExpiry;\n            Object.assign(cache[cacheKey], {\n                value,\n                expiry\n            });\n        }, cacheExpiry) : undefined;\n        cache[cacheKey] = {\n            value: value1,\n            expiry,\n            refresh\n        };\n    }\n    return {\n        value: value1,\n        expiry\n    };\n};\nexport const getCache = (key)=>{\n    if (!cache[key]) return {};\n    return cache[key];\n};\nexport const modifyCache = (cacheKey, value)=>{\n    if (!cache[cacheKey]) return;\n    clearInterval(cache[cacheKey]?.refresh);\n    cache[cacheKey] = {\n        ...cache[cacheKey],\n        value,\n        modified: true\n    };\n};\nexport const clearCache = (keys = null)=>{\n    keys = keys ?? Object.keys(cache);\n    if (!Array.isArray(keys)) keys = [\n        keys\n    ];\n    for (const cacheKey of keys){\n        clearInterval(cache[cacheKey]?.refresh);\n        cache[cacheKey] = undefined;\n    }\n};\nexport const jsonSafeParse = (text, reviver)=>{\n    if (typeof text !== 'string') return text;\n    const firstChar = text[0];\n    if (firstChar !== '{' && firstChar !== '[' && firstChar !== '\"') return text;\n    try {\n        return JSON.parse(text, reviver);\n    } catch (e) {}\n    return text;\n};\nexport const jsonSafeStringify = (value, replacer, space)=>{\n    try {\n        return JSON.stringify(value, replacer, space);\n    } catch (e) {}\n    return value;\n};\nexport const normalizeHttpResponse = (request)=>{\n    let { response  } = request;\n    if (typeof response === 'undefined') {\n        response = {};\n    } else if (typeof response?.statusCode === 'undefined' && typeof response?.body === 'undefined' && typeof response?.headers === 'undefined') {\n        response = {\n            body: response\n        };\n    }\n    (_response = response).headers ?? (_response.headers = {});\n    request.response = response;\n    return response;\n};\nconst createErrorRegexp = /[^a-zA-Z]/g;\nexport class HttpError extends Error {\n    constructor(code, message, options = {}){\n        if (message && typeof message !== 'string') {\n            options = message;\n            message = undefined;\n        }\n        message ?? (message = httpErrorCodes[code]);\n        super(message);\n        this.cause = options.cause;\n        const name = httpErrorCodes[code].replace(createErrorRegexp, '');\n        this.name = name.substr(-5) !== 'Error' ? name + 'Error' : name;\n        this.status = this.statusCode = code;\n        this.expose = options.expose ?? code < 500;\n    }\n}\nexport const createError = (code, message, properties = {})=>{\n    return new HttpError(code, message, properties);\n};\nconst httpErrorCodes = {\n    100: 'Continue',\n    101: 'Switching Protocols',\n    102: 'Processing',\n    103: 'Early Hints',\n    200: 'OK',\n    201: 'Created',\n    202: 'Accepted',\n    203: 'Non-Authoritative Information',\n    204: 'No Content',\n    205: 'Reset Content',\n    206: 'Partial Content',\n    207: 'Multi-Status',\n    208: 'Already Reported',\n    226: 'IM Used',\n    300: 'Multiple Choices',\n    301: 'Moved Permanently',\n    302: 'Found',\n    303: 'See Other',\n    304: 'Not Modified',\n    305: 'Use Proxy',\n    306: '(Unused)',\n    307: 'Temporary Redirect',\n    308: 'Permanent Redirect',\n    400: 'Bad Request',\n    401: 'Unauthorized',\n    402: 'Payment Required',\n    403: 'Forbidden',\n    404: 'Not Found',\n    405: 'Method Not Allowed',\n    406: 'Not Acceptable',\n    407: 'Proxy Authentication Required',\n    408: 'Request Timeout',\n    409: 'Conflict',\n    410: 'Gone',\n    411: 'Length Required',\n    412: 'Precondition Failed',\n    413: 'Payload Too Large',\n    414: 'URI Too Long',\n    415: 'Unsupported Media Type',\n    416: 'Range Not Satisfiable',\n    417: 'Expectation Failed',\n    418: \"I'm a teapot\",\n    421: 'Misdirected Request',\n    422: 'Unprocessable Entity',\n    423: 'Locked',\n    424: 'Failed Dependency',\n    425: 'Unordered Collection',\n    426: 'Upgrade Required',\n    428: 'Precondition Required',\n    429: 'Too Many Requests',\n    431: 'Request Header Fields Too Large',\n    451: 'Unavailable For Legal Reasons',\n    500: 'Internal Server Error',\n    501: 'Not Implemented',\n    502: 'Bad Gateway',\n    503: 'Service Unavailable',\n    504: 'Gateway Timeout',\n    505: 'HTTP Version Not Supported',\n    506: 'Variant Also Negotiates',\n    507: 'Insufficient Storage',\n    508: 'Loop Detected',\n    509: 'Bandwidth Limit Exceeded',\n    510: 'Not Extended',\n    511: 'Network Authentication Required'\n};\n\n\n//# sourceMappingURL=index.js.map", "import { normalizeHttpResponse } from '@middy/util';\nconst getOrigin = (incomingOrigin, options = {})=>{\n    if (options.origins.length > 0) {\n        if (incomingOrigin && options.origins.includes(incomingOrigin)) {\n            return incomingOrigin;\n        } else {\n            return options.origins[0];\n        }\n    } else {\n        if (incomingOrigin && options.credentials && options.origin === '*') {\n            return incomingOrigin;\n        }\n        return options.origin;\n    }\n};\nconst defaults = {\n    getOrigin,\n    credentials: undefined,\n    headers: undefined,\n    methods: undefined,\n    origin: '*',\n    origins: [],\n    exposeHeaders: undefined,\n    maxAge: undefined,\n    requestHeaders: undefined,\n    requestMethods: undefined,\n    cacheControl: undefined,\n    vary: undefined\n};\nconst httpCorsMiddleware = (opts = {})=>{\n    const options = {\n        ...defaults,\n        ...opts\n    };\n    const httpCorsMiddlewareAfter = async (request)=>{\n        normalizeHttpResponse(request);\n        const { headers  } = request.response;\n        const existingHeaders = Object.keys(headers);\n        if (existingHeaders.includes('Access-Control-Allow-Credentials')) {\n            options.credentials = headers['Access-Control-Allow-Credentials'] === 'true';\n        }\n        if (options.credentials) {\n            headers['Access-Control-Allow-Credentials'] = String(options.credentials);\n        }\n        if (options.headers && !existingHeaders.includes('Access-Control-Allow-Headers')) {\n            headers['Access-Control-Allow-Headers'] = options.headers;\n        }\n        if (options.methods && !existingHeaders.includes('Access-Control-Allow-Methods')) {\n            headers['Access-Control-Allow-Methods'] = options.methods;\n        }\n        if (!existingHeaders.includes('Access-Control-Allow-Origin')) {\n            const eventHeaders = request.event.headers ?? {};\n            const incomingOrigin = eventHeaders.Origin ?? eventHeaders.origin;\n            headers['Access-Control-Allow-Origin'] = options.getOrigin(incomingOrigin, options);\n        }\n        let vary = options.vary;\n        if (headers['Access-Control-Allow-Origin'] !== '*' && !vary) {\n            vary = 'Origin';\n        }\n        if (vary && !existingHeaders.includes('Vary')) {\n            headers.Vary = vary;\n        }\n        if (options.exposeHeaders && !existingHeaders.includes('Access-Control-Expose-Headers')) {\n            headers['Access-Control-Expose-Headers'] = options.exposeHeaders;\n        }\n        if (options.maxAge && !existingHeaders.includes('Access-Control-Max-Age')) {\n            headers['Access-Control-Max-Age'] = String(options.maxAge);\n        }\n        if (options.requestHeaders && !existingHeaders.includes('Access-Control-Request-Headers')) {\n            headers['Access-Control-Request-Headers'] = options.requestHeaders;\n        }\n        if (options.requestMethods && !existingHeaders.includes('Access-Control-Request-Methods')) {\n            headers['Access-Control-Request-Methods'] = options.requestMethods;\n        }\n        const httpMethod = getVersionHttpMethod[request.event.version ?? '1.0']?.(request.event);\n        if (!httpMethod) {\n            throw new Error('[http-cors] Unknown http event format');\n        }\n        if (httpMethod === 'OPTIONS' && options.cacheControl && !existingHeaders.includes('Cache-Control')) {\n            headers['Cache-Control'] = options.cacheControl;\n        }\n        request.response.headers = headers;\n    };\n    const httpCorsMiddlewareOnError = async (request)=>{\n        if (request.response === undefined) return;\n        return httpCorsMiddlewareAfter(request);\n    };\n    return {\n        after: httpCorsMiddlewareAfter,\n        onError: httpCorsMiddlewareOnError\n    };\n};\nconst getVersionHttpMethod = {\n    '1.0': (event)=>event.httpMethod,\n    '2.0': (event)=>event.requestContext.http.method\n};\nexport default httpCorsMiddleware;\n\n\n//# sourceMappingURL=index.js.map", "import { jsonSafeParse, normalizeHttpResponse } from '@middy/util';\nconst defaults = {\n    logger: console.error,\n    fallbackMessage: null\n};\nconst httpErrorHandlerMiddleware = (opts = {})=>{\n    const options = {\n        ...defaults,\n        ...opts\n    };\n    const httpErrorHandlerMiddlewareOnError = async (request)=>{\n        if (request.response !== undefined) return;\n        if (typeof options.logger === 'function') {\n            options.logger(request.error);\n        }\n        if (request.error.statusCode && request.error.expose === undefined) {\n            request.error.expose = request.error.statusCode < 500;\n        }\n        if (options.fallbackMessage && (!request.error.statusCode || !request.error.expose)) {\n            request.error = {\n                statusCode: 500,\n                message: options.fallbackMessage,\n                expose: true\n            };\n        }\n        if (request.error.expose) {\n            normalizeHttpResponse(request);\n            const { statusCode , message , headers  } = request.error;\n            request.response = {\n                ...request.response,\n                statusCode,\n                body: message,\n                headers: {\n                    ...headers,\n                    ...request.response.headers,\n                    'Content-Type': typeof jsonSafeParse(message) === 'string' ? 'text/plain' : 'application/json'\n                }\n            };\n        }\n    };\n    return {\n        onError: httpErrorHandlerMiddlewareOnError\n    };\n};\nexport default httpErrorHandlerMiddleware;\n\n\n//# sourceMappingURL=index.js.map"],
  "mappings": "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",
  "names": ["validate", "uuid", "stringify", "uuid", "v1", "parse", "uuid", "version", "v3", "v4", "v5", "version", "uuid", "module", "middy", "e", "module", "Agent", "awsClientDefaultOptions", "value", "jsonSafeParse", "normalizeHttpResponse", "_response", "message", "module", "defaults", "uuid", "defaults", "middy", "bodyParser"]
}
